# 工厂方法模式

## 1 快速介绍
　   工厂方法模式是类的创建模式，又叫做虚拟构造子(Virtual Constructor)模式或者多态性工厂（Polymorphic Factory）模式。
　　 工厂方法模式的用意是定义一个创建产品对象的工厂接口或抽象工厂类，将实际创建工作推迟到子类中。
## 2 角色
### 抽象工厂（Factory）角色：

   担任这个角色的是工厂方法模式的核心，任何在模式中创建对象的工厂类必须实现这个接口。在实际的系统中，这个角色也常常使用抽象类实现。

### 具体工厂（AddFactory、DivFactory、MultiFactory、SubFactory）角色：

   担任这个角色的是实现了抽象工厂接口的具体JAVA类。具体工厂角色含有与业务密切相关的逻辑，并且受到使用者的调用以创建操作类（如：OpertionAdd）。

### 抽象操作（Operation）角色：
    
   工厂方法模式所创建的对象的超类，也就是所有导出类的共同父类或共同拥有的接口。在实际的系统中，这个角色也常常使用抽象类实现。

###具体导出（OperationAdd、OperationDiv..）角色：

   这个角色实现了抽象导出（OperationAdd）角色所声明的接口，工厂方法模式所创建的每一个对象都是某个具体导出角色的实例。
    
# 3 工厂方法模式和简单工厂模式
　　
   工厂方法模式和简单工厂模式在结构上的不同很明显。工厂方法模式的核心是一个抽象工厂类，而简单工厂模式把核心放在一个具体类上。
　 工厂方法模式退化后可以变得很像简单工厂模式。设想如果非常确定一个系统只需要一个具体工厂类，那么不妨把抽象工厂类合并到具体工厂类中去。由于只有一个具体工厂类，所以不妨将工厂方法改为静态方法，这时候就得到了简单工厂模式。
    
   简单工厂模式的优点:   
        工厂类中包含了必要的逻辑判断，根据客户端的选择条件动态实例化相关的类，对于客户端来说，去除了与产品相关的依赖。
   简单工厂模式的缺点：
        如果增加一个操作类，如果修改工厂类逻辑，违背了开放-封闭原则。用反射方式是实现除外。
    
   工厂方法模式客服了简单工厂模式违背了开放-封闭原则的缺点，又保留了封闭对象创建过程的优点。但工厂方法模式增加了工作量，没加一个方法，
   就得加一个工厂类。   